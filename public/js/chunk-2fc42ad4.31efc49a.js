(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fc42ad4"],{"35c9":function(o,t,e){"use strict";var n=e("d35c"),s=e.n(n);s.a},"4d7a":function(o,t,e){"use strict";e.r(t);var n=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"main-container"},[e("div",{staticClass:"my-rooms-con"},[e("div",{staticClass:"room-title"},[o._v("我的房间:")]),e("ul",{staticClass:"rooms"},o._l(o.rooms,function(t){return e("li",{key:t.id,on:{click:function(e){o.goChat(t)}}},[e("span",{staticClass:"room-name"},[o._v(o._s(t.name))])])}),0),e("ul",{staticClass:"rooms"},o._l(o.newRooms,function(t){return e("li",{key:t.id,on:{click:function(e){o.goChat(t)}}},[e("span",{staticClass:"room-name"},[o._v(o._s(t.name))])])}),0),e("div",{staticClass:"create-btn-con"},[e("input",{directives:[{name:"model",rawName:"v-model",value:o.createRoomName,expression:"createRoomName"}],attrs:{placeholder:"输入房间名"},domProps:{value:o.createRoomName},on:{input:function(t){t.target.composing||(o.createRoomName=t.target.value)}}}),e("button",{on:{click:o.createRoom}},[o._v("创建房间")])])]),e("div",{staticClass:"public-rooms-con"},[e("div",{staticClass:"room-title"},[o._v("全部话题")]),e("ul",{staticClass:"rooms"},o._l(o.publicRooms,function(t){return e("li",{key:t.id},[e("span",{staticClass:"room-name"},[o._v(o._s(t.name))]),e("button",{staticClass:"join-room-btn",on:{click:function(e){o.goChat(t)}}},[o._v("加入房间")])])}),0)])])])},s=[],c=e("cebc"),a=e("2f62"),i=e("7ded"),r={data:function(){return{newRooms:[],createRoomName:"",publicRooms:[]}},computed:Object(c["a"])({},Object(a["b"])(["user"]),{currentUser:function(){return this.user.chatUser||{}},rooms:function(){return this.currentUser.rooms}}),watch:{currentUser:function(o){o&&o.getJoinableRooms&&this.initPublicRoom(o)}},mounted:function(){this.currentUser&&this.currentUser.getJoinableRooms&&this.initPublicRoom(this.currentUser)},methods:{initPublicRoom:function(o){var t=this;o.getJoinableRooms().then(function(o){t.publicRooms=o,console.log(o,"rooms")}).catch(function(o){console.log("Error getting joinable rooms: ".concat(o))})},goChat:function(o){this.$router.push({name:"groupChat",params:{room:o}})},createRoom:function(){var o=this;this.createRoomName&&(Object(i["a"])({userId:this.user.userInfo.id,roomName:this.createRoomName,isPrivate:!0}).then(function(t){o.newRooms.push(t)}).catch(function(o){return console.log(o)}),this.createRoomName="")}}},u=r,m=(e("35c9"),e("2877")),l=Object(m["a"])(u,n,s,!1,null,"0113be80",null);t["default"]=l.exports},d35c:function(o,t,e){}}]);
//# sourceMappingURL=chunk-2fc42ad4.31efc49a.js.map