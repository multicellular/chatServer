(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b2799e5"],{"5f5d":function(s,e,n){},c720:function(s,e,n){"use strict";var i=n("5f5d"),t=n.n(i);t.a},dc3f:function(s,e,n){"use strict";n.r(e);var i=function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"isLoading"}],staticClass:"page-container"},[n("div",{staticClass:"main-container"},[s.isShowLogin?n("div",{staticClass:"login-container"},[s.localUser.avator?n("img",{staticClass:"avator-image",attrs:{src:s.localUser.avator}}):s._e(),n("button",{staticClass:"from-btn",on:{click:s.goSignUp}},[s._v("Go Sign up")]),n("div",{staticClass:"from-item"},[n("span",[s._v("name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:s.userSignInName,expression:"userSignInName"}],attrs:{placeholder:"enter your account"},domProps:{value:s.userSignInName},on:{input:function(e){e.target.composing||(s.userSignInName=e.target.value)}}})]),n("div",{staticClass:"from-item"},[n("span",[s._v("password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:s.userSignInPassword,expression:"userSignInPassword"}],attrs:{placeholder:"enter your account",type:"password"},domProps:{value:s.userSignInPassword},on:{input:function(e){e.target.composing||(s.userSignInPassword=e.target.value)}}})]),n("div",{staticClass:"from-item from-btn"},[n("button",{staticClass:"from-btn",on:{click:s.signIn}},[s._v("Sign in")])])]):n("div",{staticClass:"sign-up-container"},[n("button",{staticClass:"from-btn",on:{click:s.goSignIn}},[s._v("Go Sign in")]),n("div",{staticClass:"from-item"},[n("span",[s._v("name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:s.userSignUpName,expression:"userSignUpName"}],attrs:{placeholder:"enter your account"},domProps:{value:s.userSignUpName},on:{input:function(e){e.target.composing||(s.userSignUpName=e.target.value)}}})]),n("div",{staticClass:"from-item"},[n("span",[s._v("password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:s.userSignUpPassword,expression:"userSignUpPassword"}],attrs:{placeholder:"enter your nick name",type:"password"},domProps:{value:s.userSignUpPassword},on:{input:function(e){e.target.composing||(s.userSignUpPassword=e.target.value)}}})]),n("div",{staticClass:"from-item"},[n("span",[s._v("avatar")]),n("input",{ref:"fileInput",attrs:{type:"file"},on:{change:s.getAvatorUrl}}),n("img",{attrs:{src:s.userAvatorUrl,width:"50px"}})]),n("div",{staticClass:"from-item"},[n("button",{staticClass:"from-btn",on:{click:s.signUp}},[s._v("Sign up")])])])])])},t=[],a=(n("7f7f"),n("5d2d")),r=n("7ded"),o={data:function(){return{isShowLogin:!0,userSignInName:"",userSignInPassword:"",userSignUpName:"",userSignUpPassword:"",userAvatorUrl:"",isLoading:!1,localUser:{}}},mounted:function(){this.localUser=Object(a["a"])("userInfo",!0)||{},this.userSignInName=this.localUser.name},methods:{signIn:function(){var s=this;this.userSignInName&&this.userSignInPassword&&(this.isLoading=!0,Object(r["c"])({name:this.userSignInName,password:this.userSignInPassword}).then(function(e){Object(a["c"])("userInfo",e.user,!0),s.$store.commit("SET_USER_INFO",e.user),s.$router.push(s.$route.query.redirect||"home"),s.isLoading=!1}).catch(function(e){console.log(e),s.isLoading=!1}))},goSignUp:function(){this.isShowLogin=!1},goSignIn:function(){this.isShowLogin=!0},getAvatorUrl:function(s){var e=s.target.files[0],n=this.$refs.fileInput.value;if(e){var i=n.lastIndexOf("."),t=i>-1?n.substring(i+1,n.length).toLowerCase():"";if(["jpg","jpeg","bmp","png","gif"].indexOf(t)<0)return this.$message({message:"请选择图片格式！",type:"error"}),void(this.$refs.fileInput.value="");var a=e.size/1024;if(a>1024)return this.$message({message:"图片大小不能超过1MB！",type:"error"}),void(this.$refs.fileInput.value="");var r=new FileReader,o=this;r.readAsDataURL(e),r.onload=function(){o.$refs.fileInput.value="",o.userAvatorUrl=r.result}}this.$refs.fileInput.value=""},signUp:function(){var s=this;this.userSignUpName&&this.userSignUpPassword&&(this.isLoading=!0,Object(r["d"])({name:this.userSignUpName,password:this.userSignUpPassword,avator:this.userAvatorUrl}).then(function(e){console.log(e),s.isLoading=!1}).catch(function(e){console.log(e),s.isLoading=!1}))}}},u=o,c=(n("c720"),n("2877")),l=Object(c["a"])(u,i,t,!1,null,"4c97c308",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-7b2799e5.1bd5ac09.js.map